# =============================================================================
# FINTALK RAG API - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables required to run the Fintalk
# RAG API system. Copy this file to .env and update with your actual values.
#
# NEVER commit the .env file to version control!
# =============================================================================

# =============================================================================
# DJANGO CONFIGURATION
# =============================================================================

# SECRET_KEY: Django secret key for cryptographic signing
# REQUIRED: Yes
# SECURITY: Generate a strong random key for production
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-secret-key-here-change-in-production

# DEBUG: Enable Django debug mode
# REQUIRED: No
# DEFAULT: False
# SECURITY: MUST be False in production
# Set to True only in development for detailed error pages
DEBUG=False

# ALLOWED_HOSTS: Comma-separated list of allowed hostnames
# REQUIRED: Yes (in production)
# SECURITY: Restrict to your actual domain names in production
# Example: myapp.com,www.myapp.com,api.myapp.com
ALLOWED_HOSTS=localhost,127.0.0.1

# LOG_LEVEL: Application logging level
# REQUIRED: No
# DEFAULT: INFO
# OPTIONS: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Use DEBUG in development, INFO or WARNING in production
LOG_LEVEL=INFO

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS_ALLOWED_ORIGINS: Comma-separated list of allowed origins for CORS
# REQUIRED: No
# DEFAULT: None (CORS disabled)
# SECURITY: Only include trusted frontend domains
# Example: https://myapp.com,https://www.myapp.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# POSTGRESQL DATABASE CONFIGURATION
# =============================================================================

# POSTGRES_DB: PostgreSQL database name
# REQUIRED: Yes
# DEFAULT: fintalk
# Used to store cardholder information and credit card data
POSTGRES_DB=fintalk

# POSTGRES_USER: PostgreSQL username
# REQUIRED: Yes
# DEFAULT: fintalk_user
# SECURITY: Use a strong username in production
POSTGRES_USER=fintalk_user

# POSTGRES_PASSWORD: PostgreSQL password
# REQUIRED: Yes
# SECURITY: Use a strong password in production (min 16 characters)
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=fintalk_password

# POSTGRES_HOST: PostgreSQL hostname
# REQUIRED: Yes
# DEFAULT: postgres (Docker service name)
# Use 'localhost' if running PostgreSQL outside Docker
POSTGRES_HOST=postgres

# POSTGRES_PORT: PostgreSQL port
# REQUIRED: No
# DEFAULT: 5432
POSTGRES_PORT=5432

# =============================================================================
# OPENSEARCH CONFIGURATION
# =============================================================================

# OPENSEARCH_ENDPOINT: OpenSearch server endpoint URL
# REQUIRED: Yes
# DEFAULT: http://opensearch:9200 (Docker service name)
# Use http://localhost:9200 if running OpenSearch outside Docker
# Use https:// in production with SSL enabled
OPENSEARCH_ENDPOINT=http://opensearch:9200

# OPENSEARCH_USER: OpenSearch admin username
# REQUIRED: Yes
# DEFAULT: admin
# SECURITY: Consider changing in production
OPENSEARCH_USER=admin

# OPENSEARCH_PASSWORD: OpenSearch admin password
# REQUIRED: Yes
# SECURITY: MUST match OPENSEARCH_INITIAL_ADMIN_PASSWORD in docker-compose.yml
# SECURITY: Use a strong password in production (min 8 chars, uppercase, lowercase, number, special char)
# This password is used for both initial setup and API authentication
OPENSEARCH_PASSWORD=Rag-test-bs23@123

# OPENSEARCH_INDEX: OpenSearch index name for document vectors
# REQUIRED: No
# DEFAULT: fintalk_documents
# The index stores document embeddings and metadata
OPENSEARCH_INDEX=fintalk_documents

# OPENSEARCH_USE_SSL: Enable SSL/TLS for OpenSearch connections
# REQUIRED: No
# DEFAULT: true
# SECURITY: Set to true in production
OPENSEARCH_USE_SSL=true

# =============================================================================
# AWS BEDROCK CONFIGURATION
# =============================================================================

# AWS_REGION: AWS region for Bedrock service
# REQUIRED: Yes
# DEFAULT: us-east-1
# Bedrock is available in: us-east-1, us-west-2, ap-southeast-1, ap-northeast-1, eu-central-1
# Choose the region closest to your deployment for lower latency
AWS_REGION=us-east-1

# AWS_ACCESS_KEY_ID: AWS access key ID
# REQUIRED: Yes (unless using IAM roles)
# SECURITY: Use IAM roles in production instead of access keys
# Get from AWS IAM Console → Users → Security Credentials
# Required permissions: bedrock:InvokeModel, bedrock:InvokeModelWithResponseStream
AWS_ACCESS_KEY_ID=your-aws-access-key-id

# AWS_SECRET_ACCESS_KEY: AWS secret access key
# REQUIRED: Yes (unless using IAM roles)
# SECURITY: Never commit this to version control
# SECURITY: Rotate regularly (every 90 days recommended)
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS_SESSION_TOKEN: AWS session token for temporary credentials
# REQUIRED: No (only for temporary credentials)
# DEFAULT: None
# Used when authenticating with temporary credentials (STS, SSO, etc.)
# Leave empty if using permanent IAM user credentials
AWS_SESSION_TOKEN=your-aws-session-token-if-using-temporary-credentials

# BEDROCK_LLM_MODEL: AWS Bedrock model ID for text generation
# REQUIRED: No
# DEFAULT: amazon.nova-lite-v1:0
# OPTIONS: amazon.nova-lite-v1:0, amazon.nova-micro-v1:0, amazon.nova-pro-v1:0
# Nova Lite: Fast, cost-effective, good for most use cases
# Nova Micro: Fastest, lowest cost, simpler queries
# Nova Pro: Most capable, higher cost, complex reasoning
BEDROCK_LLM_MODEL=amazon.nova-lite-v1:0

# BEDROCK_EMBEDDING_MODEL: AWS Bedrock model ID for embeddings
# REQUIRED: No
# DEFAULT: amazon.titan-embed-text-v2:0
# OPTIONS: amazon.titan-embed-text-v2:0, amazon.titan-embed-text-v1
# Titan v2: 1024 dimensions, better performance, recommended
# Titan v1: 1536 dimensions, legacy support
BEDROCK_EMBEDDING_MODEL=amazon.titan-embed-text-v2:0

# =============================================================================
# ADDITIONAL NOTES
# =============================================================================
#
# 1. SECURITY BEST PRACTICES:
#    - Never commit .env file to version control
#    - Use strong passwords (min 16 characters, mixed case, numbers, symbols)
#    - Rotate credentials regularly
#    - Use IAM roles in production instead of access keys
#    - Enable SSL/TLS for all services in production
#    - Restrict CORS origins to trusted domains only
#
# 2. DOCKER COMPOSE:
#    - This file is automatically loaded by docker-compose.yml
#    - Changes require container restart: docker-compose restart django
#    - Some changes require rebuild: docker-compose up --build
#
# 3. AWS BEDROCK SETUP:
#    - Ensure your AWS account has Bedrock access enabled
#    - Request model access in AWS Console → Bedrock → Model Access
#    - Verify IAM permissions include bedrock:InvokeModel
#    - Check AWS Bedrock pricing for your region
#
# 4. OPENSEARCH SETUP:
#    - OPENSEARCH_PASSWORD must match docker-compose.yml
#    - First startup takes 30-60 seconds for index initialization
#    - Check health: curl http://localhost:9200/_cluster/health
#
# 5. TROUBLESHOOTING:
#    - View logs: docker-compose logs -f django
#    - Check health: curl http://localhost:8000/api/health/
#    - Verify env vars: docker-compose exec django env | grep AWS
#
# =============================================================================
